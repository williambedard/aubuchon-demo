{%- comment -%}
  Renders the overlay content for generators/groups/overlay-content.

  Intended for use on top of 'settings-image-overlay'.

  Required:
    - local_settings: { Object } Shopify settings object for block or section that is using the generator.
    - image_overlay_style_for_content: { String } Styles generated by 'settings-image-overlay-style-for-content'.

  Optional:
    - accent_font_size: { Number } The font-size to use for the accent.
    - heading_font_size: { Number } The font-size to use for the heading.
    - text_font_size: { Number } The font-size to use for the text.
    - wrapper_class: { String } Classname to add to overlay content container.
    - additional_overlay_content: { Object } Any further pre-rendered content to display.
    - show_video_button: { Boolean } Whether the video play/pause button should show. Supplied when used with the
      'Featured collection with media' section.
    - show_view_all_button: { Boolean } Whether the 'View all' button should show. Supplied when used with the
      'Featured collection' and 'Tabbed collections' sections.
    - view_all_button_url: { String } The 'View all' button's URL.
    - view_all_button_label: { String } The 'View all' button's label.
{%- endcomment -%}

{%- liquid
  assign accent_font_size = local_settings.heading_font_size | default: accent_font_size
  assign heading_font_size = local_settings.heading_font_size | default: heading_font_size
  assign text_font_size = local_settings.text_font_size | default: text_font_size
-%}

<div
  class="{{ wrapper_class }} overlay-content"
  data-text-position="{{ local_settings.text_position }}"
  {% if local_settings.maximum_content_width != blank -%}
    style="--max-content-width: {{ local_settings.maximum_content_width }}px;"
  {%- endif %}
>
  <div
    class="overlay-content__text-container image-overlay-content section-blocks"
    style="
      {{ image_overlay_style_for_content }}
      {% render 'settings-text-position-style', local_settings: local_settings %}
    "
  >
    {%
      render 'section-block-accent',
      accent_text: local_settings.accent,
      accent_font_size: accent_font_size,
      accent_divider_enable: local_settings.accent_divider_enable,
      accent_divider_color: local_settings.accent_divider_color,
    -%}

    {%
      render 'section-block-heading',
      heading_text: local_settings.title,
      heading_font_size: heading_font_size,
    -%}

    {%
      render 'section-block-text',
      text: local_settings.text,
      text_font_size: text_font_size,
    -%}

    {%
      render 'section-block-button',
      button_label: local_settings.button_label,
      button_link: local_settings.button_link,
      button_style: local_settings.button_style,
    -%}

    {%- if show_view_all_button -%}
      {%
        render 'collection-view-all-floating-button',
        local_settings: local_settings,
        button_url: view_all_button_url,
        button_label: view_all_button_label,
      %}
    {%- endif -%}
  </div>

  {%- if show_video_button -%}
    {% render 'video-pause-floating', image_overlay_style_for_content: image_overlay_style_for_content %}
  {%- endif -%}
</div>
